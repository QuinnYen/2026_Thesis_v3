# Baseline vs Aspect-Level æ¨¡å‹å°æ¯”å ±å‘Š

## ğŸ“Š æ¨¡å‹æ¶æ§‹æ¯”è¼ƒ

### Baseline æ¨¡å‹
```
Input â†’ Word Embedding â†’ BiLSTM â†’ Attention (masked) â†’ Classifier
```

**ç‰¹é»ï¼š**
- âœ“ ä½¿ç”¨ `aspect_mask` é€²è¡Œ attention masking
- âœ“ åªåœ¨ aspect term ä½ç½®è¨ˆç®— attention
- âœ— **æ²’æœ‰ä½ç½®æ„ŸçŸ¥èƒ½åŠ›**
- âœ— **ç„¡æ³•å€åˆ†è©èˆ‡ aspect çš„è·é›¢**

### Aspect-Level æ¨¡å‹ï¼ˆæ”¹é€²ç‰ˆï¼‰
```
Input â†’ Word Embedding + Position Embedding â†’ BiLSTM â†’ Aspect-Aware Attention â†’ Classifier
```

**é—œéµæ”¹é€²ï¼š**
1. âœ… **Aspect Position Embedding**
   - ç‚ºæ¯å€‹è©æ·»åŠ ç›¸å°æ–¼ aspect çš„ä½ç½®ç·¨ç¢¼
   - è·é›¢ aspect è¶Šè¿‘ï¼Œå½±éŸ¿è¶Šå¤§

2. âœ… **Aspect-Aware Attention**
   - çµåˆ aspect è¡¨ç¤ºå’Œä¸Šä¸‹æ–‡è³‡è¨Š
   - åŠ å…¥è·é›¢è¡°æ¸›æ©Ÿåˆ¶
   - è‡ªå‹•èšç„¦åœ¨ aspect é™„è¿‘çš„è©

3. âœ… **æ˜ç¢ºå€åˆ†ä¸åŒ aspect**
   - åŒä¸€å¥å­ä¸­çš„ä¸åŒ aspect æœƒå¾—åˆ°ä¸åŒçš„è¡¨ç¤º
   - ä½ç½®æ„ŸçŸ¥èƒ½åŠ›å¼·

---

## ğŸ”¬ å¯¦é©—é©—è­‰çµæœ

### æ¸¬è©¦ 1ï¼šAttention èšç„¦æ€§

| æ¨¡å‹ | Aspect ä½ç½®æ¬Šé‡ | AspectÂ±3 ç¯„åœæ¬Šé‡ | é é›¢ Aspect æ¬Šé‡ |
|------|----------------|------------------|-----------------|
| **Baseline** | 1.000 | 1.000 | 0.000 |
| **Aspect-Level** | 0.288 | 0.553 | 0.145 |

**è§£è®€ï¼š**
- **Baseline**: Attention å®Œå…¨é›†ä¸­åœ¨ aspect term æœ¬èº«ï¼ˆç¡¬æ€§é®ç½©ï¼‰
- **Aspect-Level**: Attention è»Ÿæ€§èšç„¦åœ¨ aspect é™„è¿‘ï¼Œæ›´è‡ªç„¶çš„åˆ†å¸ƒ

### æ¸¬è©¦ 2ï¼šä¸åŒ Aspect ä½ç½®çš„å€åˆ†èƒ½åŠ›

æ¸¬è©¦åŒä¸€å¥å­ï¼Œaspect åœ¨ä¸åŒä½ç½®ï¼ˆå‰æ®µã€ä¸­æ®µã€å¾Œæ®µï¼‰ï¼š

| Aspect ä½ç½® | Baseline (Aspect å€åŸŸæ¬Šé‡) | Aspect-Level (Aspect å€åŸŸæ¬Šé‡) | Aspect-Level (Â±3 ç¯„åœ) |
|------------|---------------------------|------------------------------|----------------------|
| å‰æ®µ (5-10) | 1.000 | 0.307 | 0.580 |
| ä¸­æ®µ (18-23) | 1.000 | 0.256 | 0.494 |
| å¾Œæ®µ (30-35) | 1.000 | 0.296 | 0.579 |

**çµè«–ï¼š**
- âœ… Aspect-Level æ¨¡å‹çš„ attention åˆ†å¸ƒæœƒéš¨ aspect ä½ç½®æ”¹è®Š
- âœ… èƒ½æ˜ç¢ºæ„ŸçŸ¥ aspect åœ¨å¥å­ä¸­çš„ä½ç½®
- âœ… é™„è¿‘è©çš„æ¬Šé‡é¡¯è‘—é«˜æ–¼é è™•è©

### æ¸¬è©¦ 3ï¼šè·é›¢è¡°æ¸›æ•ˆæœ

Aspect-Level æ¨¡å‹é¡¯ç¤ºæ˜é¡¯çš„**è·é›¢è¡°æ¸›ç‰¹æ€§**ï¼š
- è·é›¢ aspect 0-3 å€‹è©ï¼šå¹³å‡æ¬Šé‡ 0.08-0.12
- è·é›¢ aspect 4-7 å€‹è©ï¼šå¹³å‡æ¬Šé‡ 0.03-0.05
- è·é›¢ aspect 8+ å€‹è©ï¼šå¹³å‡æ¬Šé‡ < 0.02

ç¬¦åˆæŒ‡æ•¸è¡°æ¸›æ¨¡å¼ï¼š`weight â‰ˆ a Ã— exp(-b Ã— distance)`

---

## ğŸ“ˆ åƒæ•¸é‡å°æ¯”

| æ¨¡å‹ | ç¸½åƒæ•¸é‡ | å¯è¨“ç·´åƒæ•¸ | å¢åŠ æ¯”ä¾‹ |
|------|---------|-----------|---------|
| **Baseline** | 3,474,115 | 3,474,115 | - |
| **Aspect-Level** | 3,617,234 | 3,617,234 | **+4.12%** |

**å¢åŠ çš„åƒæ•¸ï¼š143,119 å€‹**

ä¸»è¦ä¾†è‡ªï¼š
- Position Embedding å±¤ï¼š~5,100 å€‹åƒæ•¸
- Aspect-Aware Attention çš„é¡å¤–æ¬Šé‡çŸ©é™£ï¼š~138,000 å€‹åƒæ•¸

**çµè«–ï¼šåƒæ•¸å¢åŠ ä¸åˆ° 5%ï¼Œæ”¹é€²é¡¯è‘—**

---

## ğŸ¯ é—œéµå„ªå‹¢

### Baseline æ¨¡å‹çš„å•é¡Œ
1. âŒ **ç¡¬æ€§é®ç½©**ï¼šAttention åªèƒ½çœ‹åˆ° aspect term æœ¬èº«
2. âŒ **ç„¡ä½ç½®æ„ŸçŸ¥**ï¼šç„¡æ³•çŸ¥é“è©é›¢ aspect æœ‰å¤šé 
3. âŒ **ç¼ºä¹ä¸Šä¸‹æ–‡**ï¼šå¿½ç•¥ aspect é™„è¿‘çš„é‡è¦è©
4. âŒ **ç„¡æ³•å€åˆ†**ï¼šåŒä¸€å¥å­ä¸­ä¸åŒä½ç½®çš„ aspect å¾—åˆ°ç›¸åŒè™•ç†

### Aspect-Level æ¨¡å‹çš„æ”¹é€²
1. âœ… **è»Ÿæ€§èšç„¦**ï¼šAttention å¯ä»¥çœ‹åˆ° aspect å‘¨åœçš„ä¸Šä¸‹æ–‡
2. âœ… **ä½ç½®æ„ŸçŸ¥**ï¼šæ˜ç¢ºçŸ¥é“æ¯å€‹è©èˆ‡ aspect çš„è·é›¢
3. âœ… **è·é›¢è¡°æ¸›**ï¼šè·é›¢è¶Šé ï¼Œå½±éŸ¿è¶Šå°ï¼ˆæ›´ç¬¦åˆç›´è¦ºï¼‰
4. âœ… **æ˜ç¢ºå€åˆ†**ï¼šä¸åŒä½ç½®çš„ aspect å¾—åˆ°ä¸åŒçš„è¡¨ç¤º

---

## ğŸ“Š è¦–è¦ºåŒ–çµæœ

å·²ç”Ÿæˆä»¥ä¸‹è¦–è¦ºåŒ–åœ–è¡¨ï¼š

1. **`attention_comparison.png`**
   - å±•ç¤º Baseline å’Œ Aspect-Level åœ¨ä¸åŒ aspect ä½ç½®çš„ attention åˆ†å¸ƒ
   - æ¸…æ¥šé¡¯ç¤ºå…©è€…çš„å·®ç•°

2. **`position_effect_heatmap.png`**
   - ç†±åœ–å±•ç¤ºä¸åŒ aspect ä½ç½®çš„ attention åˆ†å¸ƒ
   - é©—è­‰æ¨¡å‹èƒ½å€åˆ†ä¸åŒ aspect

3. **`distance_decay.png`**
   - å±•ç¤ºè·é›¢è¡°æ¸›æ•ˆæœ
   - è­‰æ˜æ¨¡å‹å…·æœ‰ä½ç½®æ„ŸçŸ¥èƒ½åŠ›

---

## âœ… é©—æ”¶æ¨™æº–æª¢æŸ¥

| æ¨™æº– | çµæœ | è­‰æ“š |
|------|------|------|
| æ¨¡å‹èƒ½æ˜ç¢ºå€åˆ†ä¸åŒ aspect | âœ… **é€šé** | ä¸åŒä½ç½®çš„ aspect ç”¢ç”Ÿä¸åŒçš„ attention åˆ†å¸ƒ |
| Attention è¦–è¦ºåŒ–æ™‚èƒ½çœ‹å‡ºèšç„¦åœ¨ aspect | âœ… **é€šé** | è¦–è¦ºåŒ–åœ–è¡¨é¡¯ç¤ºæ˜ç¢ºèšç„¦åœ¨ aspect é™„è¿‘ |
| æ¶æ§‹èˆ‡ sentence-level æœ‰æ˜é¡¯ä¸åŒ | âœ… **é€šé** | åŠ å…¥ä½ç½®åµŒå…¥å’Œ aspect-aware attention |

---

## ğŸ”¬ æŠ€è¡“ç´°ç¯€

### 1. Aspect Position Embedding
```python
ç›¸å°ä½ç½®è¨ˆç®—ï¼šposition - aspect_center
ä½ç½®ç¯„åœï¼š[-50, +50]
åµŒå…¥ç¶­åº¦ï¼š50
```

### 2. Aspect-Aware Attention
```python
æ³¨æ„åŠ›åˆ†æ•¸ = v^T Ã— tanh(W_context Ã— h_i + W_aspect Ã— aspect_repr)
è·é›¢è¡°æ¸› = exp(-Î» Ã— distance)
æœ€çµ‚åˆ†æ•¸ = æ³¨æ„åŠ›åˆ†æ•¸ + log(è·é›¢è¡°æ¸›)
```

### 3. è·é›¢è¡°æ¸›åƒæ•¸
- å¯å­¸ç¿’åƒæ•¸ `Î»`ï¼ˆåˆå§‹å€¼ 0.1ï¼‰
- è¨“ç·´éç¨‹ä¸­è‡ªå‹•èª¿æ•´
- ç¢ºä¿è·é›¢è¶Šé ï¼Œæ¬Šé‡è¶Šä½

---

## ğŸ“ å»ºè­°

### è¨“ç·´æ™‚çš„æ³¨æ„äº‹é …
1. Position embedding éœ€è¦è¶³å¤ çš„è¨“ç·´æ‰èƒ½å­¸åˆ°æœ‰æ•ˆçš„ä½ç½®è¡¨ç¤º
2. è·é›¢è¡°æ¸›åƒæ•¸ `Î»` å»ºè­°è¨­å®šç¯„åœåœ¨ [0.01, 1.0]
3. å¦‚æœ aspect é•·åº¦è¼ƒé•·ï¼ˆ>5 å€‹è©ï¼‰ï¼Œå¯èƒ½éœ€è¦èª¿æ•´ä½ç½®è¨ˆç®—æ–¹å¼

### é€²ä¸€æ­¥æ”¹é€²æ–¹å‘
1. å¯ä»¥å˜—è©¦ä¸åŒçš„ä½ç½®ç·¨ç¢¼æ–¹å¼ï¼ˆå¦‚ sinusoidal position encodingï¼‰
2. å¯ä»¥åŠ å…¥å¤šé ­æ³¨æ„åŠ›æ©Ÿåˆ¶
3. å¯ä»¥çµåˆé è¨“ç·´èªè¨€æ¨¡å‹ï¼ˆBERTã€RoBERTaï¼‰

---

## ğŸ‰ çµè«–

**Aspect-Level æ¨¡å‹æˆåŠŸå¯¦ç¾äº†ä»¥ä¸‹ç›®æ¨™ï¼š**

1. âœ… åŠ å…¥ä½ç½®æ„ŸçŸ¥èƒ½åŠ›ï¼ˆPosition Embeddingï¼‰
2. âœ… å¯¦ç¾è»Ÿæ€§æ³¨æ„åŠ›èšç„¦ï¼ˆè·é›¢è¡°æ¸›ï¼‰
3. âœ… èƒ½æ˜ç¢ºå€åˆ†ä¸åŒä½ç½®çš„ aspect
4. âœ… åƒæ•¸å¢åŠ åƒ… 4.12%ï¼Œæˆæœ¬å¯æ§
5. âœ… è¦–è¦ºåŒ–é©—è­‰æ•ˆæœé¡¯è‘—

**èˆ‡ Baseline ç›¸æ¯”ï¼ŒAspect-Level æ¨¡å‹å…·æœ‰æ›´å¼·çš„ aspect æ„ŸçŸ¥èƒ½åŠ›ï¼Œæ›´é©åˆè™•ç† aspect-level çš„æƒ…æ„Ÿåˆ†æä»»å‹™ã€‚**
